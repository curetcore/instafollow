<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Analyzer - Analiza tus Seguidores</title>
    <link rel="stylesheet" href="css/styles.css?v=5.0">
</head>
<body>
    <header>
        <div class="header-content">
            <div>
                <h1>Instagram Analyzer</h1>
                <p class="subtitle">Descubre qui√©n no te sigue de vuelta</p>
            </div>
        </div>
    </header>
    
    <div class="container">

        <main>
            <!-- Secci√≥n de instrucciones (Acorde√≥n) -->
            <div class="accordion-container">
                <button class="accordion-header" id="instructionsToggle">
                    <div class="accordion-title">
                        <svg class="accordion-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span>¬øC√≥mo obtener tus datos de Instagram?</span>
                    </div>
                    <svg class="accordion-arrow" width="12" height="12" viewBox="0 0 12 12">
                        <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
                
                <div class="accordion-content" id="instructionsContent">
                    <div class="instructions-inner">
                        <ol class="instagram-steps">
                            <li>
                                <strong>Abre Instagram</strong> ‚Üí Ve a tu perfil ‚Üí 
                                <span class="step-highlight">‚öôÔ∏è Configuraci√≥n y actividad</span>
                            </li>
                            <li>
                                Busca <span class="step-highlight">Centro de cuentas</span> ‚Üí 
                                <span class="step-highlight">Tu informaci√≥n y permisos</span>
                            </li>
                            <li>
                                Click en <span class="step-highlight">Descargar tu informaci√≥n</span> ‚Üí 
                                <span class="step-highlight">Descargar o transferir informaci√≥n</span>
                            </li>
                            <li>
                                Selecciona <strong>solo tu cuenta de Instagram</strong> ‚Üí 
                                Click en <span class="step-highlight">Parte de tu informaci√≥n</span>
                            </li>
                            <li>
                                Marca <strong>SOLO</strong> <span class="step-highlight">‚úì Seguidores y seguidos</span> 
                                (desmarca todo lo dem√°s)
                            </li>
                            <li class="important-step">
                                <strong class="error-text">‚ö†Ô∏è IMPORTANTE:</strong> Formato: <span class="step-highlight">JSON</span> 
                                <strong class="error-text">(NO HTML)</strong> ‚Ä¢ Periodo: <span class="step-highlight">Todo el tiempo</span>
                            </li>
                            <li>
                                Click en <span class="step-highlight">Crear archivos</span> ‚Üí 
                                Espera el email (puede tardar 1-48 horas)
                            </li>
                            <li>
                                Descarga el ZIP ‚Üí Busca <code>followers_1.json</code> y <code>following.json</code> 
                                en la carpeta <code>connections/followers_and_following/</code>
                            </li>
                        </ol>
                        <div class="tip-box">
                            <strong>üí° Tip:</strong> Si Instagram cambi√≥ la interfaz, busca siempre 
                            "Descargar informaci√≥n" o "Download your information"
                        </div>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n de carga de archivos -->
            <div class="upload-section">
                <div class="upload-box large" id="folderUpload">
                    <div class="upload-content">
                        <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
                        </svg>
                        <h3>Cargar Carpeta de Instagram</h3>
                        <p>Selecciona la carpeta <strong>followers_and_following</strong></p>
                        <input type="file" id="folderInput" webkitdirectory directory multiple hidden>
                        <button class="btn-upload" onclick="document.getElementById('folderInput').click()">
                            Seleccionar carpeta
                        </button>
                        <div id="filesDetected" class="files-detected" style="display: none;">
                            <h4>Archivos detectados:</h4>
                            <div id="filesList"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bot√≥n de an√°lisis -->
            <div class="analyze-section">
                <button id="analyzeBtn" class="btn-analyze" disabled>
                    Analizar Datos
                </button>
            </div>

            <!-- Resultados -->
            <div id="results" class="results-section" style="display: none;">
                <h2>üìà Resultados</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Seguidores</h3>
                        <p class="stat-number" id="followersCount">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Seguidos</h3>
                        <p class="stat-number" id="followingCount">0</p>
                    </div>
                    <div class="stat-card highlight">
                        <h3>No te siguen</h3>
                        <p class="stat-number" id="notFollowingBackCount">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Amigos mutuos</h3>
                        <p class="stat-number" id="mutualCount">0</p>
                    </div>
                </div>

                <div class="results-tabs">
                    <button class="tab-btn active" data-tab="notFollowing">No te siguen</button>
                    <button class="tab-btn" data-tab="mutual">Amigos mutuos</button>
                    <button class="tab-btn" data-tab="fans">Tus fans</button>
                    <button class="tab-btn" data-tab="insights">M√°s insights</button>
                </div>

                <div class="tab-content active" id="notFollowing">
                    <div class="list-header">
                        <h3>Usuarios que sigues pero no te siguen</h3>
                        <button class="btn-export" id="exportNotFollowing">Exportar lista</button>
                    </div>
                    <div class="search-box">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <input type="text" class="search-input" id="searchNotFollowing" placeholder="Buscar usuario...">
                        <span class="search-count" id="countNotFollowing"></span>
                    </div>
                    <div class="user-list" id="notFollowingList"></div>
                </div>

                <div class="tab-content" id="mutual">
                    <div class="list-header">
                        <h3>Amigos mutuos (se siguen mutuamente)</h3>
                        <button class="btn-export" id="exportMutual">Exportar lista</button>
                    </div>
                    <div class="search-box">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <input type="text" class="search-input" id="searchMutual" placeholder="Buscar usuario...">
                        <span class="search-count" id="countMutual"></span>
                    </div>
                    <div class="user-list" id="mutualList"></div>
                </div>

                <div class="tab-content" id="fans">
                    <div class="list-header">
                        <h3>Te siguen pero t√∫ no los sigues</h3>
                        <button class="btn-export" id="exportFans">Exportar lista</button>
                    </div>
                    <div class="search-box">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <input type="text" class="search-input" id="searchFans" placeholder="Buscar usuario...">
                        <span class="search-count" id="countFans"></span>
                    </div>
                    <div class="user-list" id="fansList"></div>
                </div>

                <div class="tab-content" id="insights">
                    <div class="insights-grid" id="insightsGrid">
                        <!-- Se llenar√° din√°micamente con JavaScript -->
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>üîí Tus datos se procesan localmente. Nada se env√≠a a ning√∫n servidor.</p>
            <p class="footer-note">Hecho con ‚ù§Ô∏è para la comunidad</p>
        </footer>
    </div>

    <script src="js/app.js?v=5.0"></script>
</body>
</html>
